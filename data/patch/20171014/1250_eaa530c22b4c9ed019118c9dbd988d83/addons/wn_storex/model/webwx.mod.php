<?php
 goto OV3R_; KNcFw: function webwxstatusnotify($request) { goto UIuKL; J2KgO: $result = webwx_post($url, $params); goto dkCMZ; UIuKL: $url = sprintf($request["\x70\x6f\x73\x74\x5f\x75\162\154\x5f\x68\x65\141\x64\145\162"] . "\57\x77\x65\142\x77\x78\x73\x74\x61\164\x75\x73\x6e\x6f\x74\151\x66\x79\x3f\x6c\x61\156\x67\75\x7a\150\x5f\x43\x4e\x26\160\141\163\163\137\164\x69\x63\153\x65\164\75\45\x73", $request["\160\141\x73\163\x5f\x74\x69\143\153\145\x74"]); goto wtL8N; wtL8N: $params = array("\102\141\163\145\122\145\x71\165\x65\163\x74" => $request["\162\145\161\x75\x65\163\164"], "\x43\157\x64\x65" => 3, "\106\x72\157\155\x55\163\145\162\116\x61\155\145" => $request["\146\162\x6f\155\x75\163\x65\162\156\x61\155\x65"], "\124\157\x55\x73\145\162\116\x61\155\x65" => $request["\146\162\x6f\x6d\165\163\145\162\x6e\x61\155\x65"], "\103\154\x69\145\156\164\x4d\x73\x67\111\x64" => time()); goto J2KgO; dkCMZ: return $result["\102\x61\x73\x65\x52\145\x73\160\157\156\x73\x65"]["\x52\145\164"] == 0; goto z7uIe; z7uIe: } goto kIjCi; ebhIy: function webwx_sendimg($params, $image, $fromusername, $tousername = "\146\x69\154\145\150\145\x6c\160\x65\x72") { goto Yadub; i3q9b: $data = array("\x42\x61\163\x65\122\x65\161\x75\x65\163\x74" => $params["\162\145\x71\x75\x65\x73\x74"], "\115\x73\147" => array("\x54\171\x70\x65" => 3, "\115\145\144\x69\x61\x49\x64" => $uploadimg["\x4d\x65\x64\x69\141\x49\x64"], "\106\x72\157\155\125\163\x65\x72\x4e\x61\x6d\x65" => $fromusername, "\x54\157\x55\163\x65\x72\x4e\x61\x6d\x65" => $tousername, "\x4c\157\143\141\x6c\x49\104" => time() * 1000 . substr(uniqid(), 0, 5), "\103\x6c\x69\x65\156\x74\x4d\163\147\111\x64" => time() * 1000 . substr(uniqid(), 0, 5)), "\x53\143\145\156\x65" => 0); goto YJeYD; vYV73: $result = @json_decode($result, true); goto gWMmN; gWMmN: return $result["\x42\x61\x73\x65\122\145\163\x70\157\x6e\x73\145"]["\122\x65\x74"] == 0; goto cRxrT; R_wE0: $uploadimg = uploadimg($params, $fromusername, $tousername, $image); goto i3q9b; YJeYD: $result = curlPost($url, $data); goto vYV73; Yadub: $url = sprintf($params["\160\x6f\163\x74\x5f\x75\162\154\x5f\x68\145\141\144\x65\x72"] . "\57\x77\145\142\x77\170\x73\145\x6e\x64\155\x73\147\x69\x6d\147\77\x66\165\156\75\141\x73\171\x6e\143\x26\146\75\152\163\157\x6e\x26\160\x61\163\163\x5f\164\x69\x63\153\145\x74\x3d\45\163", $params["\160\141\163\x73\x5f\x74\x69\x63\x6b\145\164"]); goto R_wE0; cRxrT: } goto xd4v2; kIjCi: function webwx_sync($request, $synckey) { goto TAh4W; X6gct: $SyncKey = $result["\x53\171\x6e\x63\x4b\x65\x79"]; goto gBabD; wZBxH: $SyncKey = array(); goto xctAi; xctAi: $X_mo2 = !($result["\102\141\163\145\122\x65\x73\160\x6f\x6e\x73\x65"]["\122\x65\164"] == 0); goto DjGp0; XMGOy: $result = json_decode($result, true); goto wZBxH; DdArv: $result = curlPost($url, $params); goto XMGOy; DjGp0: if ($X_mo2) { goto PhAV1; } goto X6gct; rZmcb: return $SyncKey; goto lVPwR; TAh4W: $url = sprintf($request["\160\157\x73\164\137\x75\162\x6c\x5f\150\x65\141\x64\x65\x72"] . "\57\167\145\142\x77\x78\163\171\x6e\x63\x3f\x73\x69\x64\75\x25\163\x26\163\153\145\171\x3d\45\163\46\x70\141\x73\x73\x5f\x74\151\x63\x6b\145\x74\75\45\x73", $request["\163\151\144"], $request["\163\x6b\145\171"], $request["\160\x61\163\163\137\x74\x69\x63\153\145\x74"]); goto a1x8o; gBabD: PhAV1: goto rZmcb; a1x8o: $params = array("\x42\141\x73\x65\122\145\161\x75\x65\x73\164" => $request["\x72\x65\x71\165\145\163\x74"], "\x53\x79\156\x63\113\145\x79" => $synckey, "\x72\x72" => time()); goto DdArv; lVPwR: } goto fTWrU; GMsOa: function webwx_cookie($baseinfo) { goto fGMeo; fGMeo: $post = new stdClass(); goto i4xsk; EOsH1: $post->deviceid = "\145" . rand(10000000, 99999999) . rand(1000000, 9999999); goto d6eT1; Q9lnq: aT9It: goto SVtV_; STzZS: return true; goto vFLTb; X42jA: return $post; goto a3dL7; SVtV_: $ECVE4 = !($status == "\x30"); goto IWzc6; JEhrb: $post->BaseRequest = array("\x55\151\156" => $baseinfo["\x77\170\165\x69\x6e"], "\123\151\144" => $baseinfo["\x77\x78\x73\x69\144"], "\123\x6b\145\171" => $baseinfo["\163\x6b\145\171"], "\x44\x65\166\151\x63\145\x49\x44" => "\145" . rand(10000000, 99999999) . rand(1000000, 9999999)); goto EOsH1; vAttQ: $post->uin = $baseinfo["\x77\x78\165\151\x6e"]; goto X42jA; IWzc6: if ($ECVE4) { goto w9PCk; } goto JEhrb; mPkeC: if ($CWLe2) { goto aT9It; } goto I8G1J; d6eT1: $post->skey = $baseinfo["\163\x6b\145\171"]; goto BmnXB; EZRKa: $CWLe2 = !($status == "\x31\62\60\63"); goto mPkeC; BmnXB: $post->pass_ticket = $baseinfo["\x70\141\163\x73\137\x74\151\x63\x6b\x65\164"]; goto ZyUdX; a3dL7: w9PCk: goto STzZS; ZyUdX: $post->sid = $baseinfo["\x77\170\x73\x69\x64"]; goto vAttQ; I8G1J: return error(-1, "\xe6\x9c\xaa\347\237\245\351\224\x99\xe8\xaf\xaf\x2c\350\xaf\267\x32\345\260\217\346\x97\266\xe5\x90\x8e\351\207\215\xe8\xaf\x95"); goto Q9lnq; i4xsk: $status = $baseinfo["\x72\x65\x74"]; goto EZRKa; vFLTb: } goto Uhu_h; fTWrU: function synccheck($request, $synckey_info, $cookie) { goto kNhCB; nmnZL: $synckey = implode("\x7c", $synckey); goto RLz78; DifDT: preg_match("\x7e\136\x68\164\x74\160\x73\72\x3f\x28\57\x2f\50\x5b\136\57\x3f\43\x5d\x2a\x29\x29\77\176", $request["\x70\157\163\x74\x5f\x75\162\154\137\x68\145\141\144\145\x72"], $match); goto Nw3WC; mqA1v: $data = webwx_get($url, '', $cookie); goto JCLyE; Nw3WC: $url = "\x68\x74\164\x70\x73\x3a\x2f\x2f\167\145\142\x70\165\163\150\56" . $match[2] . "\x2f\x63\147\151\x2d\x62\x69\156\x2f\155\x6d\x77\145\x62\x77\170\55\142\x69\156\57\163\x79\x6e\x63\143\x68\145\143\x6b\77" . http_build_query($params); goto mqA1v; rktXl: $retcode = -1; goto v1pJx; VPqtf: return array($retcode, $seslector); goto h__E7; hjfAp: foreach ($synckey_info["\114\151\163\x74"] as $val) { $synckey[] = "{$val["\113\145\x79"]}\x5f{$val["\x56\x61\x6c"]}"; NE0pM: } goto PrPCx; oTTKI: $selector = $pm[2]; goto zFQxc; VL7rR: if ($MmvSU) { goto Ot8H_; } goto hjfAp; A3xri: $params = array("\x72" => time() * 1000, "\x73\x6b\x65\x79" => $request["\162\145\161\165\145\x73\x74"]["\x53\x6b\x65\x79"], "\163\151\144" => $request["\x72\145\x71\165\x65\x73\x74"]["\123\x69\x64"], "\x75\x69\156" => $request["\x72\x65\161\165\x65\x73\x74"]["\x55\151\x6e"], "\x64\x65\166\151\143\145\151\144" => $request["\x72\x65\161\165\x65\x73\164"]["\x44\145\x76\151\x63\145\111\104"], "\163\171\x6e\143\153\x65\171" => $synckey, "\137" => time() * 1000); goto DifDT; RLz78: Ot8H_: goto A3xri; PrPCx: VpfaO: goto nmnZL; DoOdK: goto V9z8h; goto xOZi1; kNhCB: $MmvSU = empty($synckey_info); goto VL7rR; JCLyE: if (preg_match("\57\x77\151\156\144\x6f\x77\56\163\x79\156\143\x63\150\x65\143\x6b\75\173\162\145\x74\x63\157\x64\145\x3a\x22\50\x5c\144\x2b\x29\42\54\163\145\154\145\x63\164\x6f\x72\x3a\42\50\134\x64\53\51\42\175\57", $data, $pm)) { goto UxXsX; } goto rktXl; v1pJx: $selector = -1; goto DoOdK; xOZi1: UxXsX: goto TcEQ2; zFQxc: V9z8h: goto VPqtf; TcEQ2: $retcode = $pm[1]; goto oTTKI; h__E7: } goto sV8Of; Uhu_h: function webwx_init($post, $post_url_header) { goto fvCVJ; fyAJ4: $params = array("\102\x61\163\x65\122\x65\161\x75\145\163\x74" => $post->BaseRequest); goto ZfHIX; fvCVJ: $url = sprintf($post_url_header . "\x2f\167\145\142\x77\x78\x69\156\151\x74\x3f\x70\141\x73\163\x5f\x74\x69\x63\153\145\x74\x3d\45\x73\x26\x73\153\x65\171\75\x25\163\46\162\x3d\x25\x73", $post->pass_ticket, $post->skey, time()); goto fyAJ4; iDdEC: return $result; goto DZ_Nx; ZfHIX: $result = webwx_post($url, $params); goto iDdEC; DZ_Nx: } goto KNcFw; YCd9w: function webwx_login($redirect_uri) { goto pIExN; QX0lJ: CSBv7: goto Ffu3n; SAoD_: IHOSD: goto OLgLm; Ffu3n: return array("\x62\x61\x73\x65\151\156\x66\157" => $baseinfo, "\x70\x6f\163\x74\x5f\x75\x72\x6c\x5f\150\145\141\144\145\162" => $post_url_header, "\x63\157\x6f\153\151\145" => $cookie_str); goto l42gG; pIExN: $fBvfX = empty($redirect_uri); goto Y_GGp; cmulY: $k831J = !(!empty($cookie) && is_array($cookie)); goto z9R3k; z9R3k: if ($k831J) { goto x3Deb; } goto fs2sU; pDRLU: $baseinfo = (array) simplexml_load_string($result["\143\x6f\156\164\x65\x6e\x74"], "\x53\151\155\x70\154\145\x58\115\114\105\x6c\x65\155\145\x6e\x74", LIBXML_NOCDATA); goto QX0lJ; yDWkI: $post_url_header = $https_header . "\57\x63\147\151\x2d\142\151\156\57\x6d\155\167\145\142\x77\170\x2d\x62\151\x6e"; goto Uqyyg; H_tvd: $https_header = $match[0]; goto yDWkI; oO9Eu: preg_match("\x7e\136\150\x74\164\x70\x73\x3a\x3f\x28\x2f\57\50\x5b\136\57\x3f\43\x5d\52\51\x29\x3f\176", $redirect_uri, $match); goto H_tvd; Y_GGp: if ($fBvfX) { goto CSBv7; } goto oO9Eu; fs2sU: foreach ($cookie as $key => $value) { $cookie_str .= $key . "\x3d" . $value . "\73\40"; h_q0Z: } goto SAoD_; dNjgT: N1xq5: goto cmulY; OLgLm: x3Deb: goto pDRLU; wbCWB: foreach ($result["\150\145\x61\144\x65\162\163"]["\123\145\x74\x2d\x43\157\x6f\153\151\145"] as $key => $value) { goto db4Me; db4Me: preg_match("\x2f\136\x28\x2e\53\77\x29\134\163\x3f\x5c\x3d\x5c\163\x3f\x28\56\x2b\x3f\x29\73\x2f", $value, $match); goto ogfy2; VHaSi: mDGFu: goto fS0Zq; ogfy2: $cookie[$match[1]] = $match[2]; goto VHaSi; fS0Zq: } goto dNjgT; Uqyyg: $result = ihttp_get($redirect_uri); goto wbCWB; l42gG: } goto GMsOa; X8sFw: function webwx_waitforlogin($tip = 1, $uuid) { goto Xm2__; kS7fJ: $data["\162\x65\x64\151\x72\145\143\x74\x5f\x75\x72\x69"] = $matches[1] . "\x26\x66\165\156\75\x6e\145\x77"; goto gpfOd; gpfOd: LI2Py: goto ZRX4n; Xm2__: $url = sprintf("\x68\164\164\x70\x73\x3a\x2f\x2f\x6c\x6f\147\x69\x6e\x2e\167\x65\151\x78\x69\x6e\56\x71\161\x2e\x63\157\x6d\57\x63\x67\151\55\x62\x69\156\x2f\155\155\x77\145\x62\x77\170\x2d\x62\x69\x6e\x2f\154\157\x67\151\x6e\x3f\x26\x74\151\160\75\45\x73\46\165\x75\151\144\75\45\x73\46\137\75\x25\x73", $tip, $uuid, time()); goto xs12R; iM_In: preg_match("\x2f\167\x69\156\144\x6f\x77\x2e\x63\157\144\x65\x3d\x28\134\x64\53\51\73\57", $result["\143\x6f\x6e\x74\145\156\164"], $match); goto Ar50L; MY2kS: if ($vtV2q) { goto LI2Py; } goto uqlg1; Ar50L: $data["\x63\x6f\x64\145"] = $match[1]; goto tBksj; xs12R: $result = ihttp_post($url, ''); goto iM_In; tBksj: $vtV2q = !($data["\x63\x6f\144\145"] == 200); goto MY2kS; ZRX4n: return $data; goto sEkWo; uqlg1: preg_match("\x2f\x77\x69\156\144\157\x77\56\x72\145\x64\x69\162\145\143\x74\137\165\x72\151\x3d\42\50\134\123\53\77\x29\x22\73\57", $result["\x63\157\156\164\145\x6e\x74"], $matches); goto kS7fJ; sEkWo: } goto YCd9w; ZrGz9: function webwx_sendmsg($params, $word, $fromusername, $tousername = "\146\151\154\x65\150\x65\x6c\160\x65\x72") { goto Qzun0; Vuroo: return $result["\102\x61\x73\x65\122\x65\x73\x70\157\x6e\163\x65"]["\x52\145\164"] == 0; goto ewOlm; Elzi8: $result = @json_decode($result, true); goto Vuroo; mea7s: $result = curlPost($url, $data); goto Elzi8; Qzun0: $url = sprintf($params["\x70\x6f\x73\x74\137\x75\x72\154\x5f\150\x65\141\144\x65\162"] . "\x2f\167\x65\x62\167\170\x73\x65\x6e\144\155\163\x67\x3f\160\x61\163\x73\137\x74\151\x63\153\x65\164\x3d\45\163", $params["\160\x61\163\163\137\x74\151\x63\153\x65\164"]); goto pby9t; zXSQT: $data = array("\102\141\163\x65\122\x65\161\165\145\163\x74" => $params["\x72\145\x71\165\x65\163\x74"], "\115\x73\x67" => array("\x54\171\160\145" => 1, "\103\157\156\x74\145\156\x74" => urlencode($word), "\x46\162\157\x6d\125\x73\x65\x72\x4e\141\x6d\145" => $fromusername, "\x54\x6f\125\x73\x65\162\116\x61\155\145" => $tousername, "\114\157\x63\x61\154\x49\x44" => $clientMsgId, "\103\154\151\x65\x6e\164\115\163\x67\x49\x64" => $clientMsgId)); goto mea7s; pby9t: $clientMsgId = time() * 1000 . substr(uniqid(), 0, 5); goto zXSQT; ewOlm: } goto ebhIy; xd4v2: function uploadimg($params, $fromusername, $tousername, $image) { goto G3A_j; eHDMc: if ($a8UVO) { goto diSGT; } goto ZR_Pp; EWFrH: XAYok: goto lX9Pk; CP7B7: $url_list = explode("\56", $match[2]); goto HhT4E; HhT4E: $header = $url_list[0]; goto KGVIw; wGkvO: $multipart_encoder = array("\151\144" => "\x57\x55\x5f\x46\111\x4c\x45\x5f\65", "\156\x61\x6d\x65" => $image, "\x74\x79\160\x65" => "\x69\x6d\141\147\145\163\x2f\152\160\x65\147", "\154\x61\x73\164\115\157\x64\x69\146\x69\145\x44\141\164\x65" => gmdate("\104\40\115\x20\144\x20\131\40\x48\x3a\151\72\163\x20\124\x4f", $file_time) . "\x20\50\x43\123\x54\51", "\x73\x69\172\145" => $file_size, "\155\145\144\x69\x61\164\171\x70\x65" => "\x70\x69\143", "\x75\x70\x6c\157\141\144\155\145\x64\151\x61\162\x65\161\165\x65\163\164" => $uploadmediarequest, "\x77\145\x62\x77\x78\137\144\x61\164\x61\137\164\151\x63\153\145\x74" => $webwx_data_ticket, "\x70\x61\x73\163\137\164\x69\143\153\145\x74" => $params["\x70\141\x73\163\137\x74\151\x63\x6b\x65\164"], "\x66\151\x6c\145\156\141\x6d\x65" => "\x40" . $image); goto KR9G1; dLdcq: Me9py: goto XlSby; tlJpQ: $result = @json_decode($result, true); goto xiDfs; KR9G1: $result = webwx_post($url, $multipart_encoder, false, true); goto tlJpQ; lX9Pk: $uploadmediarequest = json_encode(array("\102\x61\x73\145\122\145\161\x75\145\163\x74" => $params["\162\145\x71\165\x65\163\164"], "\103\154\x69\x65\x6e\x74\115\x65\144\151\x61\111\144" => time() * 1000 . mt_rand(10000, 99999), "\124\x6f\x74\x61\154\114\145\x6e" => $file_size, "\123\x74\x61\x72\x74\x50\157\x73" => 0, "\x44\141\164\141\114\145\156" => $file_size, "\115\145\x64\x69\x61\x54\x79\160\145" => 4, "\x55\160\x6c\x6f\x61\x64\x54\x79\x70\145" => 2, "\x46\x72\x6f\x6d\x55\x73\145\x72\x4e\x61\x6d\145" => $fromusername, "\124\x6f\125\163\145\x72\x4e\x61\x6d\145" => $tousername, "\106\151\x6c\x65\115\144\x35" => md5_file($image))); goto wGkvO; ZB9sF: $a8UVO = !(strpos($line, "\x77\145\142\167\x78\137\x64\141\164\141\137\x74\151\143\x6b\x65\164") !== false); goto eHDMc; STx7U: $fp = fopen(MODULE_URL . "\143\157\x6f\153\x69\145\56\x63\157\157\x6b\x69\145", "\162"); goto dLdcq; BOBP2: goto XAYok; goto DwKDL; DwKDL: diSGT: goto GmXZb; qh1dZ: $pass_ticket = $params["\x70\x61\x73\163\137\164\x69\x63\153\x65\x74"]; goto laCrm; ZR_Pp: $arr = explode("\x5c\x74", trim($line)); goto B7gr3; B7gr3: $webwx_data_ticket = $arr[6]; goto BOBP2; s3W0J: $file_time = filemtime($image); goto OXv4P; XlSby: if (!($line = fgets($fp))) { goto XAYok; } goto ZB9sF; OXv4P: $file_size = filesize($image); goto qh1dZ; GmXZb: goto Me9py; goto EWFrH; laCrm: $webwx_data_ticket = ''; goto STx7U; KGVIw: $url = sprintf("\x68\164\x74\x70\163\x3a\57\x2f\146\x69\x6c\145\56\45\x73\56\x71\161\x2e\x63\x6f\x6d\x2f\143\x67\x69\55\142\x69\156\x2f\x6d\155\x77\x65\142\x77\x78\55\142\151\156\x2f\167\145\142\x77\170\x75\x70\x6c\x6f\141\x64\155\x65\x64\151\x61\77\x66\75\x6a\163\157\156", $header); goto s3W0J; xiDfs: return $result; goto jbNak; G3A_j: preg_match("\x7e\x5e\x68\164\164\x70\x73\x3a\x3f\50\57\x2f\x28\133\x5e\x2f\77\43\135\x2a\51\x29\77\176", $params["\160\x6f\163\164\x5f\165\162\154\137\x68\x65\x61\144\145\x72"], $match); goto CP7B7; jbNak: } goto b55O5; gGz51: function webwx_getuuid() { goto DUr6C; wO6YB: BYADE: goto USRMM; DIdWg: $Ww4IH = !preg_match($regx, $result, $matches); goto b2fGb; snaaQ: $regx = "\57\167\151\x6e\x64\x6f\167\56\121\x52\114\157\147\x69\156\x2e\143\157\144\x65\x20\75\x20\50\x5c\x64\53\x29\x3b\40\x77\151\x6e\144\157\x77\x2e\x51\122\114\x6f\147\x69\156\56\165\x75\151\x64\x20\75\x20\42\50\134\123\x2b\x3f\x29\x22\x2f"; goto DIdWg; DUr6C: $url = "\150\164\x74\160\163\72\x2f\x2f\154\x6f\147\x69\x6e\56\x77\x65\151\x78\151\156\x2e\161\161\56\143\157\x6d\57\x6a\163\154\x6f\147\x69\x6e\77\x61\160\x70\151\x64\75\x77\x78\67\x38\62\143\62\x36\145\64\x63\x31\71\x61\x63\146\146\142\x26\146\x75\x6e\75\x6e\x65\x77\x26\x6c\141\156\x67\x3d\172\150\137\x43\x4e\46\137\75" . time(); goto fC_Cb; b2fGb: if ($Ww4IH) { goto BYADE; } goto gm2vj; fC_Cb: $result = webwx_get($url); goto snaaQ; g5Lgy: $uuid = $matches[2]; goto wO6YB; gm2vj: $code = $matches[1]; goto g5Lgy; USRMM: return $uuid; goto KKs7X; KKs7X: } goto X8sFw; OV3R_: load()->func("\x63\157\x6d\155\165\156\151\143\141\164\x69\x6f\156"); goto gGz51; YgnFo: function webwx_get($url, $api = false, $cookie = '') { goto N9vDo; nIdGH: $header = array("\x55\x73\145\162\x2d\x41\x67\145\156\x74\72\40\x4d\x6f\x7a\151\x6c\154\141\x2f\65\56\60\40\x28\115\141\143\151\156\164\157\x73\x68\73\40\x49\156\x74\x65\x6c\40\115\141\x63\40\x4f\x53\x20\130\x20\61\60\x5f\x31\61\x5f\x33\51\x20\101\160\160\154\145\127\x65\x62\x4b\151\164\57\x35\63\67\x2e\x33\x36\x20\50\x4b\x48\124\115\114\54\x20\154\x69\153\145\x20\107\x65\x63\153\157\x29\40\103\x68\162\x6f\x6d\145\x2f\x34\70\56\x30\x2e\x32\x35\x36\64\56\61\60\x39\x20\x53\x61\146\141\162\x69\57\x35\x33\x37\x2e\x33\66", "\x52\x65\146\x65\x72\x65\x72\72\40\150\x74\164\x70\163\x3a\57\57\167\x78\56\161\161\x2e\x63\x6f\x6d\x2f", "\103\x6f\157\x6b\x69\x65\72\x20" . $cookie); goto h8qSS; zJ6hj: $aStatus = curl_getinfo($oCurl); goto mSMQM; Y8lZW: goto sKm6K; goto ZMbCI; EN95V: goto sKm6K; goto B4zUm; usZiX: curl_setopt($oCurl, CURLOPT_URL, $url); goto gZAML; Utu1J: curl_setopt($oCurl, CURLOPT_HTTPHEADER, $header); goto usZiX; QLXKR: curl_setopt($oCurl, CURLOPT_SSL_VERIFYPEER, FALSE); goto BjAJQ; M2a2i: $header[] = "\122\x61\x6e\x67\x65\72\x20\x62\171\x74\145\x73\x3d\60\55"; goto p8K3T; zHutJ: curl_setopt($oCurl, CURLOPT_SSLVERSION, 1); goto HD20g; mSMQM: curl_close($oCurl); goto GteQy; c7voF: if ($U07fA) { goto ainyr; } goto QLXKR; BsU0f: curl_setopt($oCurl, CURLOPT_COOKIEJAR, $cookie); goto O9r1K; T0YBZ: if ($api == "\167\145\x62\167\170\147\145\164\x76\151\144\x65\157") { goto DdV0n; } goto Y8lZW; ZMbCI: FMejP: goto uP7CR; BjAJQ: curl_setopt($oCurl, CURLOPT_SSL_VERIFYHOST, FALSE); goto zHutJ; o6Cjr: curl_setopt($oCurl, CURLOPT_TIMEOUT, 60); goto q6qO9; q6qO9: curl_setopt($oCurl, CURLOPT_COOKIEFILE, $cookie); goto BsU0f; O9r1K: $sContent = curl_exec($oCurl); goto zJ6hj; OKX_z: $U07fA = !(stripos($url, "\150\164\164\x70\163\x3a\x2f\x2f") !== FALSE); goto c7voF; GteQy: return $sContent; goto Xestd; B4zUm: DdV0n: goto M2a2i; h8qSS: if ($api == "\x77\145\142\167\170\147\145\164\166\157\151\143\145") { goto FMejP; } goto T0YBZ; HD20g: ainyr: goto nIdGH; p8K3T: sKm6K: goto Utu1J; N9vDo: $oCurl = curl_init(); goto OKX_z; gZAML: curl_setopt($oCurl, CURLOPT_RETURNTRANSFER, 1); goto o6Cjr; uP7CR: $header[] = "\122\x61\156\147\145\x3a\40\142\x79\164\145\163\75\60\x2d"; goto EN95V; Xestd: } goto Y3E6Z; b55O5: function webwx_post($url, $param, $jsonfmt = true, $post_file = false) { goto gqjWZ; pGITd: $is_curlFile = true; goto kau0I; kJvcF: if ($r6qss) { goto HOr00; } goto UT_It; UT_It: foreach ($param as $key => $val) { goto SluAM; jzecT: $param[$key] = new \CURLFile(realpath(substr($val, 1))); goto kNL70; SluAM: $YIqtW = !(substr($val, 0, 1) == "\100"); goto xh9RR; xh9RR: if ($YIqtW) { goto sf13_; } goto jzecT; kNL70: sf13_: goto WzNs5; WzNs5: SuOaW: goto XxkoY; XxkoY: } goto cmmhu; KWtIW: HOr00: goto qgyBa; k4bOS: return false; goto hVL1l; hvJjG: $strPOST = implode("\46", $aPOST); goto LE0YT; fgaBQ: goto X13lK; goto LEndg; wsl5O: if ($BQkx7) { goto yzGtd; } goto Lo5ZW; rSNlS: yqheN: goto hvJjG; MTXfQ: $U07fA = !(stripos($url, "\150\164\164\160\163\72\57\57") !== FALSE); goto LGxjl; ks912: kxOEF: goto fgaBQ; gLLUY: foreach ($param as $key => $val) { $aPOST[] = $key . "\75" . urlencode($val); E0yzk: } goto rSNlS; LEndg: aAhOn: goto pGITd; BWn4s: curl_setopt($oCurl, CURLOPT_POST, true); goto u_Aqm; gqjWZ: $oCurl = curl_init(); goto MTXfQ; zl2Pb: uiyTQ: goto NRFZ8; GCfp3: if ($post_file) { goto hU_ND; } goto BEbpr; RMRrd: Sfok2: goto Evw0I; kIa3I: $BQkx7 = !$jsonfmt; goto wsl5O; AFZyJ: $aStatus = curl_getinfo($oCurl); goto RbrDF; PT0_7: curl_setopt($oCurl, CURLOPT_SSLVERSION, 1); goto ehdJf; RbrDF: curl_close($oCurl); goto JSGh7; bU4Q0: curl_setopt($oCurl, CURLOPT_SSL_VERIFYPEER, FALSE); goto h6mFC; Lo5ZW: return json_decode($sContent, true); goto DGVUq; vNJxa: curl_setopt($oCurl, CURLOPT_HTTPHEADER, $header); goto Ejuhj; W4M3F: if ($Ziych) { goto kxOEF; } goto jXiWd; XNzo2: $sContent = curl_exec($oCurl); goto AFZyJ; LGxjl: if ($U07fA) { goto l5v98; } goto bU4Q0; NRFZ8: if (is_string($param)) { goto xP_uA; } goto GCfp3; Uj0Oj: xP_uA: goto p1uXG; a90HJ: curl_setopt($oCurl, CURLOPT_COOKIEFILE, MODULE_URL . "\x63\x6f\157\x6b\x69\x65\56\x63\157\x6f\x6b\151\145"); goto NezKF; cV5EW: $r6qss = !$is_curlFile; goto kJvcF; qMzUM: $is_curlFile = false; goto WvDlK; bQriv: $BQkx7 = !$jsonfmt; goto Ufhqo; ZWYxU: Sii_H: goto kIa3I; LE0YT: goto rFYpG; goto Uj0Oj; hVL1l: goto Sfok2; goto ZWYxU; NTmNe: return $sContent; goto RMRrd; Ufhqo: if ($BQkx7) { goto uiyTQ; } goto RKDof; sJGJ6: goto rFYpG; goto Lvc3b; h6mFC: curl_setopt($oCurl, CURLOPT_SSL_VERIFYHOST, false); goto PT0_7; RKDof: $param = json_encode($param); goto Pag2p; Zt_H7: $header = array("\x55\x73\x65\x72\55\x41\x67\x65\156\x74\72\x20\x4d\157\x7a\151\154\x6c\x61\57\x35\56\60\x20\50\115\x61\x63\151\156\164\x6f\x73\x68\x3b\40\x49\156\x74\x65\154\x20\x4d\141\x63\x20\x4f\123\40\x58\40\x31\x30\137\x31\61\137\x33\51\x20\101\x70\160\154\145\x57\145\142\113\151\164\x2f\x35\x33\67\56\x33\x36\x20\50\113\110\124\115\x4c\x2c\x20\154\x69\x6b\145\40\107\145\x63\153\x6f\x29\x20\x43\150\162\x6f\155\x65\x2f\x34\70\56\x30\x2e\x32\x35\x36\64\x2e\61\60\x39\40\x53\141\x66\x61\162\151\x2f\x35\x33\x37\x2e\63\66"); goto bQriv; NezKF: curl_setopt($oCurl, CURLOPT_COOKIEJAR, MODULE_URL . "\143\x6f\157\153\x69\145\56\143\157\x6f\153\x69\x65"); goto XNzo2; JLIaJ: if (PHP_VERSION_ID >= 50500 && class_exists("\134\x43\125\x52\x4c\106\151\154\145")) { goto aAhOn; } goto qMzUM; ehdJf: l5v98: goto JLIaJ; u_Aqm: curl_setopt($oCurl, CURLOPT_POSTFIELDS, $strPOST); goto a90HJ; cmmhu: iFExq: goto KWtIW; p1uXG: $strPOST = $param; goto sJGJ6; jXiWd: curl_setopt($oCurl, CURLOPT_SAFE_UPLOAD, false); goto ks912; Pag2p: $header[] = "\103\x6f\x6e\x74\145\156\164\x2d\x54\x79\160\145\x3a\x20\141\x70\x70\154\151\143\x61\164\151\157\x6e\x2f\x6a\x73\x6f\x6e\73\x20\143\x68\141\x72\163\145\164\75\x55\x54\106\55\x38"; goto zl2Pb; VFgAJ: curl_setopt($oCurl, CURLOPT_RETURNTRANSFER, 1); goto BWn4s; WvDlK: $Ziych = !defined("\103\x55\122\x4c\117\120\124\137\x53\x41\106\x45\x5f\x55\x50\x4c\x4f\101\x44"); goto W4M3F; qgyBa: $strPOST = $param; goto Ey2l0; Ejuhj: curl_setopt($oCurl, CURLOPT_URL, $url); goto VFgAJ; Ey2l0: rFYpG: goto vNJxa; Lvc3b: hU_ND: goto cV5EW; BEbpr: $aPOST = array(); goto gLLUY; JSGh7: if (intval($aStatus["\x68\164\164\160\x5f\x63\x6f\144\145"]) == 200) { goto Sii_H; } goto k4bOS; kau0I: X13lK: goto Zt_H7; DGVUq: yzGtd: goto NTmNe; Evw0I: } goto YgnFo; sV8Of: function webwx_getcontact($post, $post_url_header) { goto y8RYR; dhq0b: $data = webwx_post($url, $params); goto FetO3; dqsq7: bwapK: goto VzSan; FetO3: $AXtBe = !($data["\102\x61\x73\145\122\145\x73\x70\157\156\x73\145"]["\x52\145\x74"] != 0); goto wzvP4; iL66S: $params = array("\x42\141\x73\145\122\x65\161\x75\145\x73\x74" => array("\125\151\x6e" => $post["\x75\151\x6e"], "\x53\x69\x64" => $post["\x73\x69\144"], "\x53\x6b\145\171" => $post["\163\153\x65\x79"], "\x44\145\166\151\x63\145\111\x44" => $post["\x64\x65\x76\151\x63\145\x69\x64"])); goto dhq0b; y8RYR: $url = $post_url_header . "\x2f\x77\145\142\167\x78\147\x65\164\x63\157\x6e\164\x61\x63\x74\77\x70\x61\163\163\x5f\164\151\143\x6b\145\164\x3d" . $post["\160\141\x73\x73\137\164\151\x63\153\x65\x74"] . "\46\x73\145\161\75\60\46\x73\x6b\x65\x79\75" . $post["\163\x6b\x65\171"] . "\x26\162\75" . time(); goto iL66S; LiqaS: return error(-1, "\xe8\x8e\267\xe5\217\x96\xe8\x81\224\347\263\273\344\xba\xba\xe5\244\xb1\350\264\xa5"); goto dqsq7; wzvP4: if ($AXtBe) { goto bwapK; } goto LiqaS; VzSan: return $data; goto whB_i; whB_i: } goto ZrGz9; Y3E6Z: function curlPost($url, $data, $is_gbk = false, $timeout = 30, $CA = false) { goto eA9OC; emNcj: $ret = curl_exec($ch); goto hJ7aL; FTBol: if ($is_gbk) { goto ed3Kk; } goto CchHb; Gi3e3: curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, true); goto sPRAy; h0fSr: $header[] = "\x43\157\x6e\164\x65\156\164\x54\171\160\x65\x3a\40\141\160\x70\154\x69\x63\x61\164\151\157\x6e\x2f\x6a\163\157\x6e\x3b\x20\x63\150\141\x72\x73\145\x74\75\125\x54\106\55\x38"; goto bvLUN; NGAq1: MPZMS: goto ycK8y; gdp0f: rB7wB: goto dROJk; KbcZ4: $FMt1C = !$data; goto WuSI6; dROJk: curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); goto qpkA_; sPRAy: curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 2); goto s4HQw; V8dpH: curl_setopt($ch, CURLOPT_POST, true); goto fMnP7; s4HQw: goto rB7wB; goto NGAq1; bna_x: curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, $timeout - 2); goto zPLDX; jEAy4: RQzZq: goto V8dpH; WuSI6: if ($FMt1C) { goto HOWlg; } goto FTBol; bBJiy: curl_setopt($ch, CURLOPT_HTTPHEADER, $header); goto fPfY2; wu8yr: goto rB7wB; goto sKd8v; baU1k: $data = str_replace("\134\57", "\57", urldecode(json_encode($data))); goto jEAy4; bvLUN: $ch = curl_init(); goto bBJiy; eA9OC: $SSL = substr($url, 0, 8) == "\x68\x74\x74\160\x73\x3a\57\x2f" ? true : false; goto h0fSr; fPfY2: curl_setopt($ch, CURLOPT_URL, $url); goto ntqhA; zPLDX: if ($SSL && $CA) { goto gePuO; } goto eD08U; EivrK: ed3Kk: goto baU1k; qpkA_: curl_setopt($ch, CURLOPT_HTTPHEADER, array("\x45\x78\160\x65\143\164\x3a")); goto KbcZ4; eD08U: if ($SSL && !$CA) { goto MPZMS; } goto wu8yr; uxyjB: goto RQzZq; goto EivrK; CchHb: $data = str_replace("\134\57", "\57", urldecode(json_encode($data))); goto uxyjB; sKd8v: gePuO: goto Gi3e3; hJ7aL: curl_close($ch); goto Y100x; cyyfo: HOWlg: goto emNcj; ntqhA: curl_setopt($ch, CURLOPT_TIMEOUT, $timeout); goto bna_x; GjvBD: curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, true); goto gdp0f; ycK8y: curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); goto GjvBD; Y100x: return $ret; goto Y58gy; fMnP7: curl_setopt($ch, CURLOPT_POSTFIELDS, $data); goto cyyfo; Y58gy: }